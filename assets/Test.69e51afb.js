import{l as H,m as C,d as L,v as F,at as I,x as u,y as v,aa as V,ac as P,k as A,au as j,_ as q,o as B,e as R,a as s,b as h,i as p,w as b,j as O,ao as U,Z as Y,av as Z}from"./app.1386c12e.js";function z(e){return typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e}function D(e){return e instanceof HTMLElement?e.scrollTop:window.scrollY}function G(e){return e instanceof HTMLElement?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}var J=H("affix",[C("affixed",{position:"fixed"},[C("absolute-positioned",{position:"absolute"})])]);const K={listenTo:[String,Object,Function],top:Number,bottom:Number,triggerTop:Number,triggerBottom:Number,position:{type:String,default:"fixed"},offsetTop:{type:Number,validator:()=>!0,default:void 0},offsetBottom:{type:Number,validator:()=>!0,default:void 0},target:{type:Function,validator:()=>!0,default:void 0}};var Q=L({name:"Affix",props:K,setup(e){const{mergedClsPrefixRef:c}=F(e);I("-affix",J,c);let l=null;const a=u(!1),r=u(!1),f=u(null),d=u(null),m=v(()=>r.value||a.value),i=v(()=>{var t,o;return(o=(t=e.triggerTop)!==null&&t!==void 0?t:e.offsetTop)!==null&&o!==void 0?o:e.top}),n=v(()=>{var t,o;return(o=(t=e.top)!==null&&t!==void 0?t:e.triggerTop)!==null&&o!==void 0?o:e.offsetTop}),g=v(()=>{var t,o;return(o=(t=e.bottom)!==null&&t!==void 0?t:e.triggerBottom)!==null&&o!==void 0?o:e.offsetBottom}),_=v(()=>{var t,o;return(o=(t=e.triggerBottom)!==null&&t!==void 0?t:e.offsetBottom)!==null&&o!==void 0?o:e.bottom}),S=u(null),M=()=>{const{target:t,listenTo:o}=e;t?l=t():o?l=z(o):l=document,l&&(l.addEventListener("scroll",x),x())};function x(){j($)}function $(){const{value:t}=S;if(!l||!t)return;const o=D(l);if(m.value){d.value!==null&&o<d.value&&(a.value=!1,d.value=null),f.value!==null&&o>f.value&&(r.value=!1,f.value=null);return}const w=G(l),k=t.getBoundingClientRect(),E=k.top-w.top,N=w.bottom-k.bottom,T=i.value,y=_.value;T!==void 0&&E<=T?(a.value=!0,d.value=o-(T-E)):(a.value=!1,d.value=null),y!==void 0&&N<=y?(r.value=!0,f.value=o+y-N):(r.value=!1,f.value=null)}return V(()=>{M()}),P(()=>{!l||l.removeEventListener("scroll",x)}),{selfRef:S,affixed:m,mergedClsPrefix:c,mergedstyle:v(()=>{const t={};return a.value&&i.value!==void 0&&n.value!==void 0&&(t.top=`${n.value}px`),r.value&&_.value!==void 0&&g.value!==void 0&&(t.bottom=`${g.value}px`),t})}},render(){const{mergedClsPrefix:e}=this;return A("div",{ref:"selfRef",class:[`${e}-affix`,{[`${e}-affix--affixed`]:this.affixed,[`${e}-affix--absolute-positioned`]:this.position==="absolute"}],style:this.mergedstyle},this.$slots)}});const W={key:0,id:"vue3"},X={class:"absolute-anchor-container"},ee={ref:"containerRef",class:"container"},te={class:"content"},oe={style:{display:"inline-block",width:"50%"}},ne={style:{display:"inline-block",width:"50%"}},le={__name:"Test",setup(e){const c=u(),l=()=>{c.value=!c.value},a=i=>{console.log("\u6EDA\u52A8\u53D1\u751F\u4E86")},r=u(!1),f=u(),d=i=>{console.log(i),console.log(i[0])},m=u<HTMLElement|void 0>void 0;return V(()=>{const i=document.querySelector("#btn"),n=new IntersectionObserver(d,{root:null,rootMargin:"0px",threshold:.5});console.log(i),n.observe(i)}),(i,n)=>{const g=Z,_=Q;return B(),R(Y,null,[s("div",{onScroll:a},[n[3]||(n[3]=h(" fdsfds ")),s("div",null,[s("button",{type:"button",id:"btn",onClick:l},"aaa"),p(U,{name:"fade"},{default:b(()=>[c.value?(B(),R("div",W,"Hello, Vue3!")):O("",!0)]),_:1})]),n[4]||(n[4]=s("div",null,"fdsfds",-1)),n[5]||(n[5]=s("div",null,"dsds>",-1)),s("div",X,[s("div",ee,[n[2]||(n[2]=s("div",{class:"padding"},null,-1)),s("div",te,[s("div",oe,[p(_,{"trigger-top":50,position:"absolute","listen-to":()=>m},{default:b(()=>[p(g,null,{default:b(()=>n[0]||(n[0]=[h("\u9876\u90E8\u89E6\u53D1\u8DDD\u79BB 50px")])),_:1})]),_:1},8,["listen-to"])]),s("div",ne,[p(_,{"trigger-bottom":60,position:"absolute","listen-to":()=>m},{default:b(()=>[p(g,null,{default:b(()=>n[1]||(n[1]=[h("\u5E95\u90E8\u89E6\u53D1\u8DDD\u79BB 60px")])),_:1})]),_:1},8,["listen-to"])])])],512)])],32),s("div",null,[r.value?(B(),R("div",{key:0,class:"box",ref_key:"targetElement",ref:f}," Element Inside Viewport ",512)):O("",!0)])],64)}}};var ie=q(le,[["__scopeId","data-v-e4c0bd02"]]);export{ie as default};
